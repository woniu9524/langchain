# langchain

## 0.2.0

### 已删除

从 0.2.0 版本开始，`langchain` 需要与集成无关。这意味着 `langchain` 中的代码默认不应实例化任何特定的聊天模型、LLM、嵌入模型、向量存储等；相反，用户需要显式指定它们。

以下函数和类要求将显式的 LLM 作为参数传递：

- `langchain.agents.agent_toolkits.vectorstore.toolkit.VectorStoreToolkit`
- `langchain.agents.agent_toolkits.vectorstore.toolkit.VectorStoreRouterToolkit`
- `langchain.chains.openai_functions.get_openapi_chain`
- `langchain.chains.router.MultiRetrievalQAChain.from_retrievers`
- `langchain.indexes.VectorStoreIndexWrapper.query`
- `langchain.indexes.VectorStoreIndexWrapper.query_with_sources`
- `langchain.indexes.VectorStoreIndexWrapper.aquery_with_sources`
- `langchain.chains.flare.FlareChain`

以下类现在要求将显式的 Embedding 模型作为参数传递：

- `langchain.indexes.VectostoreIndexCreator`

以下代码已被删除：

- `langchain.natbot.NatBotChain.from_default` 已被 `from_llm` 类方法取代。

### 已弃用

我们有两种主要的弃用类型：

1.  代码已从 `langchain` 移动到另一个包（例如 `langchain-community`）

    如果您尝试从 `langchain` 导入它，导入仍然可以工作，但会引发弃用警告。该警告将提供一个替换的导入语句。

    ```python
    python -c "from langchain.document_loaders.markdown import UnstructuredMarkdownLoader"

    ```

    ```python
    LangChainDeprecationWarning: Importing UnstructuredMarkdownLoader from langchain.document_loaders is deprecated. Please replace deprecated imports:

    >> from langchain.document_loaders import UnstructuredMarkdownLoader

    with new imports of:

    >> from langchain_community.document_loaders import UnstructuredMarkdownLoader
    ```

    只要相关包已安装（例如，只要安装了 `langchain_community`），我们将继续支持 `langchain` 中的导入，直到 0.4 版本。

    但是，我们建议用户不要依赖这些导入，而是迁移到新的导入。为了帮助完成此过程，我们通过 LangChain CLI 发布了一个迁移脚本。请参阅迁移指南中的进一步说明。

2.  存在更好的可用替代方案，并且代码最终将被移除的代码（例如，ChatModels 中的 `predict_messages` 方法已被弃用，以 `invoke` 为优先）。

    其中许多已标记为将在 0.2 版本中移除。我们已将移除时间推迟到 0.3 版本。


## 0.1.0 (2024 年 1 月 5 日)

### 已删除

无删除内容。

### 已弃用

弃用的类和方法将在 0.2.0 版本中删除

| 已弃用                      | 替代方案                       | 原因                                         |
|---------------------------------|-----------------------------------|------------------------------------------------|
| ChatVectorDBChain               | ConversationalRetrievalChain      | 对所有检索器更为通用                         |
| create_ernie_fn_chain           | create_ernie_fn_runnable          | 在后台使用 LCEL                        |
| created_structured_output_chain | create_structured_output_runnable | 在后台使用 LCEL                        |
| NatBotChain                     |                                   | 未使用                                       |
| create_openai_fn_chain          | create_openai_fn_runnable         | 在后台使用 LCEL                        |
| create_structured_output_chain  | create_structured_output_runnable | 在后台使用 LCEL                        |
| load_query_constructor_chain    | load_query_constructor_runnable   | 在后台使用 LCEL                        |
| VectorDBQA                      | RetrievalQA                       | 对所有检索器更为通用                         |
| Sequential Chain                | LCEL                              | 被 LCEL 取代                               |
| SimpleSequentialChain           | LCEL                              | 被 LCEL 取代                               |
| TransformChain                  | LCEL/RunnableLambda               | 被 LCEL 取代                               |
| create_tagging_chain            | create_structured_output_runnable | 在后台使用 LCEL                        |
| ChatAgent                       | create_react_agent                | 使用 LCEL 构建器而非类                  |
| ConversationalAgent             | create_react_agent                | 使用 LCEL 构建器而非类                  |
| ConversationalChatAgent         | create_json_chat_agent            | 使用 LCEL 构建器而非类                  |
| initialize_agent                | Individual create agent methods   | 单独的 create agent 方法更清晰           |
| ZeroShotAgent                   | create_react_agent                | 使用 LCEL 构建器而非类                  |
| OpenAIFunctionsAgent            | create_openai_functions_agent     | 使用 LCEL 构建器而非类                      |
| OpenAIMultiFunctionsAgent       | create_openai_tools_agent         | 使用 LCEL 构建器而非类                      |
| SelfAskWithSearchAgent          | create_self_ask_with_search       | 使用 LCEL 构建器而非类                      |
| StructuredChatAgent             | create_structured_chat_agent      | 使用 LCEL 构建器而非类                      |
| XMLAgent                        | create_xml_agent                  | 使用 LCEL 构建器而非类                      |