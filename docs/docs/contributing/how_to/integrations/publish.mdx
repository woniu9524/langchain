---
pagination_prev: contributing/how_to/integrations/standard_tests
pagination_next: null
---

# 发布你的包

现在你的包已经实现并测试完毕，你可以：

1. 将你的包发布到 PyPi
2. 为你的包添加文档到 LangChain Monorepo

## 将你的包发布到 PyPi

本指南假设你已经实现了你的包并为其编写了测试。如果你还没有这样做，请参考[实现指南](../package)和[测试指南](../standard_tests)。

请注意，Poetry 不是发布包到 PyPi 的必需品，在本指南中我们为了方便而端到端地使用它。
你可以选择使用任何你偏好的其他方法来发布你的包。

首先，确保你有一个 PyPi 账户并通过 Poetry 登录：

<details>
    <summary>如何创建 PyPi Token</summary>

1. 前往 [PyPi 网站](https://pypi.org/)并创建一个账户。
2. 点击 PyPi 发送给你的链接以验证你的电子邮件地址。
3. 前往你的账户设置并点击“生成恢复码”以启用 2FA。要生成 API token，你**必须**当前已启用 2FA。
4. 前往你的账户设置并[生成新的 API token](https://pypi.org/manage/account/token/)。

</details>

```bash
poetry config pypi-token.pypi <your-pypi-token>
```

接下来，构建你的包：

```bash
poetry build
```

最后，将你的包发布到 PyPi：

```bash
poetry publish
```

你已准备就绪！你的包现在可以在 PyPi 上找到，并可以使用 `pip install langchain-parrot-link` 进行安装。

## 为 LangChain Monorepo 添加文档

要为你的包添加文档到 LangChain Monorepo，你需要：

1. Fork 并克隆 LangChain Monorepo
2. 在 `docs/docs/integrations/providers/<your-package-name>.ipynb` 创建一个“Provider Page”。
3. 在 `docs/docs/integrations/<component-type>/<your-package-name>.ipynb` 创建“Component Pages”。
4. 在 `libs/packages.yml` 注册你的包。
5. 提交一个只包含**这些更改**的 PR 到 LangChain Monorepo。

### Fork 并克隆 LangChain Monorepo

首先，将 [LangChain Monorepo](https://github.com/langchain-ai/langchain) Fork 到你的 GitHub 账户。

接下来，将仓库克隆到你的本地机器：

```bash
git clone https://github.com/<your-username>/langchain.git
```

现在你已准备好进行 PR 了！

### 使用 langchain-cli 引导你的文档页面（推荐）

为了更方便地创建必要的文档页面，你可以使用 `langchain-cli` 来为你引导它们。

首先，安装最新版本的 `langchain-cli` 包：

```bash
pip install --upgrade langchain-cli
```

要查看可用于引导你的文档页面的命令，请运行：

```bash
langchain-cli integration create-doc --help
```

让我们从 monorepo 的根目录引导一个 Provider 页面：

```bash
langchain-cli integration create-doc \
    --component-type Provider \
    --destination-dir docs/docs/integrations/providers \
    --name parrot-link \
    --name-class ParrotLink
```

以及一个 Chat Model 组件页面：

```bash
langchain-cli integration create-doc \
    --component-type ChatModel \
    --destination-dir docs/docs/integrations/chat \
    --name parrot-link \
    --name-class ParrotLink
```

以及一个 Vector Store 组件页面：

```bash
langchain-cli integration create-doc \
    --component-type VectorStore \
    --destination-dir docs/docs/integrations/vectorstores \
    --name parrot-link \
    --name-class ParrotLink
```

这些命令将创建以下 3 个文件，你应该用关于你的包的信息来填充它们：

- `docs/docs/integrations/providers/parrot_link.ipynb`
- `docs/docs/integrations/chat/parrot_link.ipynb`
- `docs/docs/integrations/vectorstores/parrot_link.ipynb`

### 手动创建你的文档页面（如果你倾向于这样做）

如果你更喜欢手动创建文档页面，你可以创建上面列出的相同文件，并用关于你的包的信息来填充它们。

如果你觉得有帮助，可以在[这里](https://github.com/langchain-ai/langchain/tree/master/libs/cli/langchain_cli/integration_template/docs)查看 CLI 用于创建这些文件的模板！

### 在 `libs/packages.yml` 注册你的包

最后，将你的包添加到 LangChain Monorepo 的 `libs/packages.yml` 文件末尾。

```yaml
packages:
  - name: langchain-parrot-link
    repo: <your github handle>/<your repo>
    path: .
```

对于 `path`，如果你的包在你的仓库根目录，你可以使用 `.`，或者如果它在一个子目录中，可以指定一个子目录（例如 `libs/parrot-link`）。

如果你遵循了[包引导指南](../package)，那么你的路径是 `.`。

### 提交包含你更改的 PR

完成以上步骤后，你就可以向 LangChain Monorepo 提交一个只包含**这些更改**的 PR 了。

如果你有额外的更改要请求，请在单独的 PR 中提交。