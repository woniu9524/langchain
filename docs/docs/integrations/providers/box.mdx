# Box

[Box](https://box.com) 是智能内容云，一个使组织能够推动协作、管理整个内容生命周期、保护关键内容并通过企业 AI 转换业务工作流的单一平台。Box 成立于 2005 年，为 AstraZeneca、JLL、Morgan Stanley 和 Nationwide 等全球领先组织简化工作。

在此包中，我们提供多种方式将 Box 内容包含在您的 AI 工作流中。

### 安装和设置

```bash
pip install -U langchain-box

```

# langchain-box

此包包含 LangChain 与 Box 的集成。有关 Box 的更多信息，请查看我们的[开发者文档](https://developer.box.com)。

## 先决条件

为了与 Box 集成，您需要一些东西：

* 一个 Box 实例 — 如果您还不是 Box 客户，请注册一个[免费开发者账户](https://account.box.com/signup/n/developer#ty9l3)。
* 一个 Box 应用 — 有关如何[创建应用](https://developer.box.com/guides/getting-started/first-application/)的更多信息。
* 您的应用在您的 Box 实例中已获批准 — 这由您的管理员完成。
好消息是，如果您使用免费开发者账户，您就是管理员。
[授权您的应用](https://developer.box.com/guides/authorization/custom-app-approval/#manual-approval)

## 身份验证

`box-langchain` 包在身份验证方面提供了一些灵活性。最基本的身份验证方法是使用开发者令牌。该令牌可以在 Box 开发者控制台的配置屏幕上找到。该令牌是特意短暂的（1 小时），仅用于开发。使用此令牌，您可以将其作为 `BOX_DEVELOPER_TOKEN` 添加到您的环境中，可以直接将其传递给加载器，也可以使用 `BoxAuth` 身份验证辅助类。

我们将在下面的部分中介绍如何将其直接传递给加载器。

### BoxAuth 辅助类

`BoxAuth` 支持以下身份验证方法：

* 令牌 — 开发者令牌或通过 Box SDK 生成的任何令牌
* 使用服务账户的 JWT
* 使用指定用户的 JWT
* 使用服务账户的 CCG
* 使用指定用户的 CCG

:::note
如果使用 JWT 身份验证，您需要在生成公钥/私钥对后，从 Box 开发者控制台下载配置。将此文件放在您的应用程序目录结构中的某个位置。在使用 `BoxAuth` 辅助类时，将使用此文件的路径。
:::

有关更多信息，请了解如何[设置 Box 应用程序](https://developer.box.com/guides/getting-started/first-application/)，并查看[Box 身份验证指南](https://developer.box.com/guides/authentication/select/)以了解我们不同的身份验证选项。

示例：

**令牌**

```python
from langchain_box.document_loaders import BoxLoader
from langchain_box.utilities import BoxAuth, BoxAuthType

auth = BoxAuth(
    auth_type=BoxAuthType.TOKEN,
    box_developer_token=box_developer_token
)

loader = BoxLoader(
    box_auth=auth,
    ...
)
```

**使用服务账户的 JWT**

```python
from langchain_box.document_loaders import BoxLoader
from langchain_box.utilities import BoxAuth, BoxAuthType

auth = BoxAuth(
    auth_type=BoxAuthType.JWT,
    box_jwt_path=box_jwt_path
)

loader = BoxLoader(
    box_auth=auth,
    ...
```

**使用指定用户的 JWT**

```python
from langchain_box.document_loaders import BoxLoader
from langchain_box.utilities import BoxAuth, BoxAuthType

auth = BoxAuth(
    auth_type=BoxAuthType.JWT,
    box_jwt_path=box_jwt_path,
    box_user_id=box_user_id
)

loader = BoxLoader(
    box_auth=auth,
    ...
```

**使用服务账户的 CCG**

```python
from langchain_box.document_loaders import BoxLoader
from langchain_box.utilities import BoxAuth, BoxAuthType

auth = BoxAuth(
    auth_type=BoxAuthType.CCG,
    box_client_id=box_client_id,
    box_client_secret=box_client_secret,
    box_enterprise_id=box_enterprise_id
)

loader = BoxLoader(
    box_auth=auth,
    ...
```

**使用指定用户的 CCG**

```python
from langchain_box.document_loaders import BoxLoader
from langchain_box.utilities import BoxAuth, BoxAuthType

auth = BoxAuth(
    auth_type=BoxAuthType.CCG,
    box_client_id=box_client_id,
    box_client_secret=box_client_secret,
    box_user_id=box_user_id
)

loader = BoxLoader(
    box_auth=auth,
    ...
```

如果您希望使用 OAuth2 的 authorization_code 流程，请使用带有您已获取令牌的 `BoxAuthType.TOKEN`。

## 文档加载器

### BoxLoader

[查看用法示例](/docs/integrations/document_loaders/box)

```python
from langchain_box.document_loaders import BoxLoader

```

##检索器

### BoxRetriever

[查看用法示例](/docs/integrations/retrievers/box)

```python
from langchain_box.retrievers import BoxRetriever

```

## Blob 加载器

### BoxBlobLoader

[查看用法示例](/docs/integrations/document_loaders/box)

```python
from langchain_box.blob_loaders import BoxBlobLoader

```